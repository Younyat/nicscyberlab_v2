=============================================
 Preparando entorno y scripts...
=============================================
 Permisos de ejecuci√≥n aplicados a free_port.sh

=============================================
 Liberando el puerto 5001 si est√° en uso...
=============================================
 El puerto 5001 est√° libre.

=============================================
 Verificando instalaci√≥n de Gunicorn...
=============================================
 Gunicorn ya est√° instalado.

=============================================
 Iniciando servidor Gunicorn (app:app)...
=============================================
[2025-10-27 13:20:59 +0100] [97187] [INFO] Starting gunicorn 23.0.0
[2025-10-27 13:20:59 +0100] [97187] [INFO] Listening at: http://127.0.0.1:5001 (97187)
[2025-10-27 13:20:59 +0100] [97187] [INFO] Using worker: sync
[2025-10-27 13:20:59 +0100] [97200] [INFO] Booting worker with pid: 97200
[2025-10-27 13:20:59 +0100] [97201] [INFO] Booting worker with pid: 97201
[2025-10-27 13:20:59 +0100] [97202] [INFO] Booting worker with pid: 97202
[2025-10-27 13:20:59 +0100] [97203] [INFO] Booting worker with pid: 97203
2025-10-27 13:20:59,802 - INFO -  Ejecutando script de generaci√≥n de credenciales: /home/younes/Desktop/cyberrange/generate_app_cred_openrc_from_clouds.sh
INFO:app_logger: Ejecutando script de generaci√≥n de credenciales: /home/younes/Desktop/cyberrange/generate_app_cred_openrc_from_clouds.sh
2025-10-27 13:20:59,802 - INFO -  Ejecutando script de generaci√≥n de credenciales: /home/younes/Desktop/cyberrange/generate_app_cred_openrc_from_clouds.sh
2025-10-27 13:20:59,820 - INFO -  Ejecutando script de generaci√≥n de credenciales: /home/younes/Desktop/cyberrange/generate_app_cred_openrc_from_clouds.sh
INFO:app_logger: Ejecutando script de generaci√≥n de credenciales: /home/younes/Desktop/cyberrange/generate_app_cred_openrc_from_clouds.sh
INFO:app_logger: Ejecutando script de generaci√≥n de credenciales: /home/younes/Desktop/cyberrange/generate_app_cred_openrc_from_clouds.sh
2025-10-27 13:20:59,802 - INFO -  Ejecutando script de generaci√≥n de credenciales: /home/younes/Desktop/cyberrange/generate_app_cred_openrc_from_clouds.sh
INFO:app_logger: Ejecutando script de generaci√≥n de credenciales: /home/younes/Desktop/cyberrange/generate_app_cred_openrc_from_clouds.sh
2025-10-27 13:21:00,169 - INFO -  Salida del script:
INFO:app_logger: Salida del script:
2025-10-27 13:21:00,169 - INFO -  Salida del script:
INFO:app_logger: Salida del script:
2025-10-27 13:21:00,169 - INFO - ===============================================
 Generador de admin-openrc.sh para OpenStack
===============================================
 Verificando permisos de archivos cr√≠ticos...
 Permisos corregidos para /etc/kolla/clouds.yaml
 Archivo temporal preparado: /tmp/clouds.json

 yq ya est√° instalado.
 jq ya est√° instalado.
 Convirtiendo /etc/kolla/clouds.yaml a JSON...
 Credenciales OpenStack cargadas para admin (admin)
 Archivo 'admin-openrc.sh' generado correctamente y con permisos correctos.
 Contenido:
-----------------------------------------------
#!/bin/bash
# ======================================================
#  Archivo de credenciales para OpenStack
# Generado autom√°ticamente desde /etc/kolla/clouds.yaml
# Cloud seleccionado: kolla-admin
# ======================================================

# ------------------------------------------------------
#  Limpiar variables previas del entorno
# ------------------------------------------------------
unset OS_AUTH_TYPE
unset OS_AUTH_URL
unset OS_USERNAME
unset OS_PASSWORD
unset OS_USER_DOMAIN_NAME
unset OS_PROJECT_NAME
unset OS_PROJECT_DOMAIN_NAME
unset OS_REGION_NAME
unset OS_APPLICATION_CREDENTIAL_ID
unset OS_APPLICATION_CREDENTIAL_SECRET
unset OS_APPLICATION_CREDENTIAL_NAME

# ------------------------------------------------------
#  Configuraci√≥n de credenciales
# ------------------------------------------------------
export OS_AUTH_URL=http://192.168.0.11:5000
export OS_PROJECT_NAME=admin
export OS_PROJECT_DOMAIN_NAME=Default
export OS_USERNAME=admin
export OS_USER_DOMAIN_NAME=Default
export OS_PASSWORD=qg0nu3M5DOmTi9ys3McNJ0i78SueDMjEUhQInxwR
export OS_INTERFACE=public
export OS_IDENTITY_API_VERSION=3
export OS_REGION_NAME=RegionOne

echo " Credenciales OpenStack cargadas para $OS_PROJECT_NAME ($OS_USERNAME)"
-----------------------------------------------

 Puedes usarlo con:
   source admin-openrc.sh

2025-10-27 13:21:00,169 - INFO -  Salida del script:
INFO:app_logger:===============================================
 Generador de admin-openrc.sh para OpenStack
===============================================
 Verificando permisos de archivos cr√≠ticos...
 Permisos corregidos para /etc/kolla/clouds.yaml
 Archivo temporal preparado: /tmp/clouds.json

 yq ya est√° instalado.
 jq ya est√° instalado.
 Convirtiendo /etc/kolla/clouds.yaml a JSON...
 Credenciales OpenStack cargadas para admin (admin)
 Archivo 'admin-openrc.sh' generado correctamente y con permisos correctos.
 Contenido:
-----------------------------------------------
#!/bin/bash
# ======================================================
#  Archivo de credenciales para OpenStack
# Generado autom√°ticamente desde /etc/kolla/clouds.yaml
# Cloud seleccionado: kolla-admin
# ======================================================

# ------------------------------------------------------
#  Limpiar variables previas del entorno
# ------------------------------------------------------
unset OS_AUTH_TYPE
unset OS_AUTH_URL
unset OS_USERNAME
unset OS_PASSWORD
unset OS_USER_DOMAIN_NAME
unset OS_PROJECT_NAME
unset OS_PROJECT_DOMAIN_NAME
unset OS_REGION_NAME
unset OS_APPLICATION_CREDENTIAL_ID
unset OS_APPLICATION_CREDENTIAL_SECRET
unset OS_APPLICATION_CREDENTIAL_NAME

# ------------------------------------------------------
#  Configuraci√≥n de credenciales
# ------------------------------------------------------
export OS_AUTH_URL=http://192.168.0.11:5000
export OS_PROJECT_NAME=admin
export OS_PROJECT_DOMAIN_NAME=Default
export OS_USERNAME=admin
export OS_USER_DOMAIN_NAME=Default
export OS_PASSWORD=qg0nu3M5DOmTi9ys3McNJ0i78SueDMjEUhQInxwR
export OS_INTERFACE=public
export OS_IDENTITY_API_VERSION=3
export OS_REGION_NAME=RegionOne

echo " Credenciales OpenStack cargadas para $OS_PROJECT_NAME ($OS_USERNAME)"
-----------------------------------------------

 Puedes usarlo con:
   source admin-openrc.sh

INFO:app_logger: Salida del script:
2025-10-27 13:21:00,169 - INFO - ===============================================
 Generador de admin-openrc.sh para OpenStack
===============================================
 Verificando permisos de archivos cr√≠ticos...
 Permisos corregidos para /etc/kolla/clouds.yaml
 Archivo temporal preparado: /tmp/clouds.json

 yq ya est√° instalado.
 jq ya est√° instalado.
 Convirtiendo /etc/kolla/clouds.yaml a JSON...
 Credenciales OpenStack cargadas para admin (admin)
 Archivo 'admin-openrc.sh' generado correctamente y con permisos correctos.
 Contenido:
-----------------------------------------------
#!/bin/bash
# ======================================================
#  Archivo de credenciales para OpenStack
# Generado autom√°ticamente desde /etc/kolla/clouds.yaml
# Cloud seleccionado: kolla-admin
# ======================================================

# ------------------------------------------------------
#  Limpiar variables previas del entorno
# ------------------------------------------------------
unset OS_AUTH_TYPE
unset OS_AUTH_URL
unset OS_USERNAME
unset OS_PASSWORD
unset OS_USER_DOMAIN_NAME
unset OS_PROJECT_NAME
unset OS_PROJECT_DOMAIN_NAME
unset OS_REGION_NAME
unset OS_APPLICATION_CREDENTIAL_ID
unset OS_APPLICATION_CREDENTIAL_SECRET
unset OS_APPLICATION_CREDENTIAL_NAME

# ------------------------------------------------------
#  Configuraci√≥n de credenciales
# ------------------------------------------------------
export OS_AUTH_URL=http://192.168.0.11:5000
export OS_PROJECT_NAME=admin
export OS_PROJECT_DOMAIN_NAME=Default
export OS_USERNAME=admin
export OS_USER_DOMAIN_NAME=Default
export OS_PASSWORD=qg0nu3M5DOmTi9ys3McNJ0i78SueDMjEUhQInxwR
export OS_INTERFACE=public
export OS_IDENTITY_API_VERSION=3
export OS_REGION_NAME=RegionOne

echo " Credenciales OpenStack cargadas para $OS_PROJECT_NAME ($OS_USERNAME)"
-----------------------------------------------

 Puedes usarlo con:
   source admin-openrc.sh

2025-10-27 13:21:00,170 - INFO -  Script ejecutado correctamente. Archivo generado: /home/younes/Desktop/cyberrange/admin-openrc.sh
INFO:app_logger: Script ejecutado correctamente. Archivo generado: /home/younes/Desktop/cyberrange/admin-openrc.sh
INFO:app_logger:===============================================
 Generador de admin-openrc.sh para OpenStack
===============================================
 Verificando permisos de archivos cr√≠ticos...
 Permisos corregidos para /etc/kolla/clouds.yaml
 Archivo temporal preparado: /tmp/clouds.json

 yq ya est√° instalado.
 jq ya est√° instalado.
 Convirtiendo /etc/kolla/clouds.yaml a JSON...
 Credenciales OpenStack cargadas para admin (admin)
 Archivo 'admin-openrc.sh' generado correctamente y con permisos correctos.
 Contenido:
-----------------------------------------------
#!/bin/bash
# ======================================================
#  Archivo de credenciales para OpenStack
# Generado autom√°ticamente desde /etc/kolla/clouds.yaml
# Cloud seleccionado: kolla-admin
# ======================================================

# ------------------------------------------------------
#  Limpiar variables previas del entorno
# ------------------------------------------------------
unset OS_AUTH_TYPE
unset OS_AUTH_URL
unset OS_USERNAME
unset OS_PASSWORD
unset OS_USER_DOMAIN_NAME
unset OS_PROJECT_NAME
unset OS_PROJECT_DOMAIN_NAME
unset OS_REGION_NAME
unset OS_APPLICATION_CREDENTIAL_ID
unset OS_APPLICATION_CREDENTIAL_SECRET
unset OS_APPLICATION_CREDENTIAL_NAME

# ------------------------------------------------------
#  Configuraci√≥n de credenciales
# ------------------------------------------------------
export OS_AUTH_URL=http://192.168.0.11:5000
export OS_PROJECT_NAME=admin
export OS_PROJECT_DOMAIN_NAME=Default
export OS_USERNAME=admin
export OS_USER_DOMAIN_NAME=Default
export OS_PASSWORD=qg0nu3M5DOmTi9ys3McNJ0i78SueDMjEUhQInxwR
export OS_INTERFACE=public
export OS_IDENTITY_API_VERSION=3
export OS_REGION_NAME=RegionOne

echo " Credenciales OpenStack cargadas para $OS_PROJECT_NAME ($OS_USERNAME)"
-----------------------------------------------

 Puedes usarlo con:
   source admin-openrc.sh

2025-10-27 13:21:00,170 - INFO - ===============================================
 Generador de admin-openrc.sh para OpenStack
===============================================
 Verificando permisos de archivos cr√≠ticos...
 Permisos corregidos para /etc/kolla/clouds.yaml
 Archivo temporal preparado: /tmp/clouds.json

 yq ya est√° instalado.
 jq ya est√° instalado.
 Convirtiendo /etc/kolla/clouds.yaml a JSON...
 Credenciales OpenStack cargadas para admin (admin)
 Archivo 'admin-openrc.sh' generado correctamente y con permisos correctos.
 Contenido:
-----------------------------------------------
#!/bin/bash
# ======================================================
#  Archivo de credenciales para OpenStack
# Generado autom√°ticamente desde /etc/kolla/clouds.yaml
# Cloud seleccionado: kolla-admin
# ======================================================

# ------------------------------------------------------
#  Limpiar variables previas del entorno
# ------------------------------------------------------
unset OS_AUTH_TYPE
unset OS_AUTH_URL
unset OS_USERNAME
unset OS_PASSWORD
unset OS_USER_DOMAIN_NAME
unset OS_PROJECT_NAME
unset OS_PROJECT_DOMAIN_NAME
unset OS_REGION_NAME
unset OS_APPLICATION_CREDENTIAL_ID
unset OS_APPLICATION_CREDENTIAL_SECRET
unset OS_APPLICATION_CREDENTIAL_NAME

# ------------------------------------------------------
#  Configuraci√≥n de credenciales
# ------------------------------------------------------
export OS_AUTH_URL=http://192.168.0.11:5000
export OS_PROJECT_NAME=admin
export OS_PROJECT_DOMAIN_NAME=Default
export OS_USERNAME=admin
export OS_USER_DOMAIN_NAME=Default
export OS_PASSWORD=qg0nu3M5DOmTi9ys3McNJ0i78SueDMjEUhQInxwR
export OS_INTERFACE=public
export OS_IDENTITY_API_VERSION=3
export OS_REGION_NAME=RegionOne

echo " Credenciales OpenStack cargadas para $OS_PROJECT_NAME ($OS_USERNAME)"
-----------------------------------------------

 Puedes usarlo con:
   source admin-openrc.sh

INFO:app_logger:===============================================
 Generador de admin-openrc.sh para OpenStack
===============================================
 Verificando permisos de archivos cr√≠ticos...
 Permisos corregidos para /etc/kolla/clouds.yaml
 Archivo temporal preparado: /tmp/clouds.json

 yq ya est√° instalado.
 jq ya est√° instalado.
 Convirtiendo /etc/kolla/clouds.yaml a JSON...
 Credenciales OpenStack cargadas para admin (admin)
 Archivo 'admin-openrc.sh' generado correctamente y con permisos correctos.
 Contenido:
-----------------------------------------------
#!/bin/bash
# ======================================================
#  Archivo de credenciales para OpenStack
# Generado autom√°ticamente desde /etc/kolla/clouds.yaml
# Cloud seleccionado: kolla-admin
# ======================================================

# ------------------------------------------------------
#  Limpiar variables previas del entorno
# ------------------------------------------------------
unset OS_AUTH_TYPE
unset OS_AUTH_URL
unset OS_USERNAME
unset OS_PASSWORD
unset OS_USER_DOMAIN_NAME
unset OS_PROJECT_NAME
unset OS_PROJECT_DOMAIN_NAME
unset OS_REGION_NAME
unset OS_APPLICATION_CREDENTIAL_ID
unset OS_APPLICATION_CREDENTIAL_SECRET
unset OS_APPLICATION_CREDENTIAL_NAME

# ------------------------------------------------------
#  Configuraci√≥n de credenciales
# ------------------------------------------------------
export OS_AUTH_URL=http://192.168.0.11:5000
export OS_PROJECT_NAME=admin
export OS_PROJECT_DOMAIN_NAME=Default
export OS_USERNAME=admin
export OS_USER_DOMAIN_NAME=Default
export OS_PASSWORD=qg0nu3M5DOmTi9ys3McNJ0i78SueDMjEUhQInxwR
export OS_INTERFACE=public
export OS_IDENTITY_API_VERSION=3
export OS_REGION_NAME=RegionOne

echo " Credenciales OpenStack cargadas para $OS_PROJECT_NAME ($OS_USERNAME)"
-----------------------------------------------

 Puedes usarlo con:
   source admin-openrc.sh

2025-10-27 13:21:00,170 - INFO -  Script ejecutado correctamente. Archivo generado: /home/younes/Desktop/cyberrange/admin-openrc.sh
INFO:app_logger: Script ejecutado correctamente. Archivo generado: /home/younes/Desktop/cyberrange/admin-openrc.sh
2025-10-27 13:21:00,170 - INFO -  Script ejecutado correctamente. Archivo generado: /home/younes/Desktop/cyberrange/admin-openrc.sh
INFO:app_logger: Script ejecutado correctamente. Archivo generado: /home/younes/Desktop/cyberrange/admin-openrc.sh
2025-10-27 13:21:00,170 - INFO -  Credenciales OpenStack cargadas desde /home/younes/Desktop/cyberrange/admin-openrc.sh
INFO:app_logger: Credenciales OpenStack cargadas desde /home/younes/Desktop/cyberrange/admin-openrc.sh
2025-10-27 13:21:00,170 - INFO -  Credenciales OpenStack cargadas desde /home/younes/Desktop/cyberrange/admin-openrc.sh
INFO:app_logger: Credenciales OpenStack cargadas desde /home/younes/Desktop/cyberrange/admin-openrc.sh
2025-10-27 13:21:00,170 - INFO -  Credenciales OpenStack cargadas desde /home/younes/Desktop/cyberrange/admin-openrc.sh
INFO:app_logger: Credenciales OpenStack cargadas desde /home/younes/Desktop/cyberrange/admin-openrc.sh
2025-10-27 13:21:00,170 - INFO -  Salida del script:
INFO:app_logger: Salida del script:
2025-10-27 13:21:00,170 - INFO - ===============================================
 Generador de admin-openrc.sh para OpenStack
===============================================
 Verificando permisos de archivos cr√≠ticos...
 Permisos corregidos para /etc/kolla/clouds.yaml
 Archivo temporal preparado: /tmp/clouds.json

 yq ya est√° instalado.
 jq ya est√° instalado.
 Convirtiendo /etc/kolla/clouds.yaml a JSON...
 Credenciales OpenStack cargadas para admin (admin)
 Archivo 'admin-openrc.sh' generado correctamente y con permisos correctos.
 Contenido:
-----------------------------------------------
#!/bin/bash
# ======================================================
#  Archivo de credenciales para OpenStack
# Generado autom√°ticamente desde /etc/kolla/clouds.yaml
# Cloud seleccionado: kolla-admin
# ======================================================

# ------------------------------------------------------
#  Limpiar variables previas del entorno
# ------------------------------------------------------
unset OS_AUTH_TYPE
unset OS_AUTH_URL
unset OS_USERNAME
unset OS_PASSWORD
unset OS_USER_DOMAIN_NAME
unset OS_PROJECT_NAME
unset OS_PROJECT_DOMAIN_NAME
unset OS_REGION_NAME
unset OS_APPLICATION_CREDENTIAL_ID
unset OS_APPLICATION_CREDENTIAL_SECRET
unset OS_APPLICATION_CREDENTIAL_NAME

# ------------------------------------------------------
#  Configuraci√≥n de credenciales
# ------------------------------------------------------
export OS_AUTH_URL=http://192.168.0.11:5000
export OS_PROJECT_NAME=admin
export OS_PROJECT_DOMAIN_NAME=Default
export OS_USERNAME=admin
export OS_USER_DOMAIN_NAME=Default
export OS_PASSWORD=qg0nu3M5DOmTi9ys3McNJ0i78SueDMjEUhQInxwR
export OS_INTERFACE=public
export OS_IDENTITY_API_VERSION=3
export OS_REGION_NAME=RegionOne

echo " Credenciales OpenStack cargadas para $OS_PROJECT_NAME ($OS_USERNAME)"
-----------------------------------------------

 Puedes usarlo con:
   source admin-openrc.sh

INFO:app_logger:===============================================
 Generador de admin-openrc.sh para OpenStack
===============================================
 Verificando permisos de archivos cr√≠ticos...
 Permisos corregidos para /etc/kolla/clouds.yaml
 Archivo temporal preparado: /tmp/clouds.json

 yq ya est√° instalado.
 jq ya est√° instalado.
 Convirtiendo /etc/kolla/clouds.yaml a JSON...
 Credenciales OpenStack cargadas para admin (admin)
 Archivo 'admin-openrc.sh' generado correctamente y con permisos correctos.
 Contenido:
-----------------------------------------------
#!/bin/bash
# ======================================================
#  Archivo de credenciales para OpenStack
# Generado autom√°ticamente desde /etc/kolla/clouds.yaml
# Cloud seleccionado: kolla-admin
# ======================================================

# ------------------------------------------------------
#  Limpiar variables previas del entorno
# ------------------------------------------------------
unset OS_AUTH_TYPE
unset OS_AUTH_URL
unset OS_USERNAME
unset OS_PASSWORD
unset OS_USER_DOMAIN_NAME
unset OS_PROJECT_NAME
unset OS_PROJECT_DOMAIN_NAME
unset OS_REGION_NAME
unset OS_APPLICATION_CREDENTIAL_ID
unset OS_APPLICATION_CREDENTIAL_SECRET
unset OS_APPLICATION_CREDENTIAL_NAME

# ------------------------------------------------------
#  Configuraci√≥n de credenciales
# ------------------------------------------------------
export OS_AUTH_URL=http://192.168.0.11:5000
export OS_PROJECT_NAME=admin
export OS_PROJECT_DOMAIN_NAME=Default
export OS_USERNAME=admin
export OS_USER_DOMAIN_NAME=Default
export OS_PASSWORD=qg0nu3M5DOmTi9ys3McNJ0i78SueDMjEUhQInxwR
export OS_INTERFACE=public
export OS_IDENTITY_API_VERSION=3
export OS_REGION_NAME=RegionOne

echo " Credenciales OpenStack cargadas para $OS_PROJECT_NAME ($OS_USERNAME)"
-----------------------------------------------

 Puedes usarlo con:
   source admin-openrc.sh

2025-10-27 13:21:00,171 - INFO -  Script ejecutado correctamente. Archivo generado: /home/younes/Desktop/cyberrange/admin-openrc.sh
INFO:app_logger: Script ejecutado correctamente. Archivo generado: /home/younes/Desktop/cyberrange/admin-openrc.sh
2025-10-27 13:21:00,171 - INFO -  Credenciales OpenStack cargadas desde /home/younes/Desktop/cyberrange/admin-openrc.sh
INFO:app_logger: Credenciales OpenStack cargadas desde /home/younes/Desktop/cyberrange/admin-openrc.sh
INFO:root: Ruta base: /home/younes/Desktop/cyberrange
INFO:root: Escenario: /home/younes/Desktop/cyberrange/scenario/scenario_file.json
INFO:root:  Script: /home/younes/Desktop/cyberrange/scenario/generate_terraform.sh
INFO:root: Escenario guardado en /home/younes/Desktop/cyberrange/scenario/scenario_file.json
INFO:root: Despliegue iniciado (PID=104437) para file
ERROR:root: Error en el despliegue de 'file': [31m[0m[0m
[31m[0m [0m[1m[31mError: [0m[0m[1mremote-exec provisioner error[0m
[31m[0m [0m
[31m[0m [0m[0m  with openstack_compute_instance_v2.node1__instance,
[31m[0m [0m  on node_node1_.tf line 64, in resource "openstack_compute_instance_v2" "node1__instance":
[31m[0m [0m  64:   provisioner "remote-exec" [4m{[0m[0m
[31m[0m [0m
[31m[0m [0mtimeout - last error: dial tcp 10.0.2.133:22: connect: no route to host
[31m[0m[0m
[31m[0m[0m
[31m[0m [0m[1m[31mError: [0m[0m[1mremote-exec provisioner error[0m
[31m[0m [0m
[31m[0m [0m[0m  with openstack_compute_instance_v2.node2__instance,
[31m[0m [0m  on node_node2_.tf line 64, in resource "openstack_compute_instance_v2" "node2__instance":
[31m[0m [0m  64:   provisioner "remote-exec" [4m{[0m[0m
[31m[0m [0m
[31m[0m [0mtimeout - last error: dial tcp 10.0.2.59:22: connect: no route to host
[31m[0m[0m
[31m[0m[0m
[31m[0m [0m[1m[31mError: [0m[0m[1mremote-exec provisioner error[0m
[31m[0m [0m
[31m[0m [0m[0m  with openstack_compute_instance_v2.node3__instance,
[31m[0m [0m  on node_node3_.tf line 64, in resource "openstack_compute_instance_v2" "node3__instance":
[31m[0m [0m  64:   provisioner "remote-exec" [4m{[0m[0m
[31m[0m [0m
[31m[0m [0mtimeout - last error: dial tcp 10.0.2.239:22: connect: no route to host
[31m[0m[0m


<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuración Inicial | NICS CyberLab</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="initial.css"> 
</head>

<body class="bg-slate-950 text-slate-100 min-h-screen flex">

<!-- ASIDE -->
<aside class="w-72 bg-slate-900/90 p-6 flex flex-col space-y-6 border-r border-slate-800 shadow-lg">

  <h1 class="text-xl font-semibold text-sky-400 border-b border-slate-700 pb-3 mb-3">
     Acciones
  </h1>

  <div id="status-card"
       class="bg-slate-800/80 border border-slate-700 rounded-lg p-4 flex flex-col space-y-2 shadow-sm">
    <div class="flex items-center space-x-3">
      <div id="status-dot" class="w-3 h-3 rounded-full bg-rose-500 animate-pulse"></div>
      <div>
        <p id="status-text" class="text-slate-300 text-sm font-medium">
          Configuración no guardada
        </p>
        <p id="status-subtext" class="text-slate-500 text-xs">
          Esperando acción del usuario…
        </p>
      </div>
    </div>

    <!-- Barra de progreso -->
    <div class="mt-2">
      <div class="w-full h-2 bg-slate-900 rounded-full overflow-hidden">
        <div id="progress-bar-inner" class="h-2 w-0 bg-emerald-500 transition-all duration-500"></div>
      </div>
    </div>

    <!-- Pasos -->
    <div class="mt-2 text-xs text-slate-400 space-y-1">
      <p id="step-1">1⃣ Definir parámetros de red</p>
      <p id="step-2">2⃣ Guardar configuración</p>
      <p id="step-3">3⃣ Ejecutar generador</p>
      <p id="step-4">4⃣ Destruir escenario (opcional)</p>
    </div>
  </div>

  <button id="save-config"
    class="py-3 rounded-lg text-white font-semibold shadow-md bg-blue-600 hover:bg-blue-500 transition">
     Guardar Configuración
  </button>

  <button id="apply-config"
    class="py-3 rounded-lg text-white font-semibold shadow-md bg-emerald-600 hover:bg-emerald-500 transition">
     Ejecutar Generador
  </button>

  <button id="destroy-config"
    class="py-3 rounded-lg text-white font-semibold shadow-md bg-red-600 hover:bg-red-500 transition">
     Destruir Configuración
  </button>

</aside>


<!-- MAIN -->
<main class="flex-1 overflow-y-auto p-10 space-y-8">

  <!-- Redes -->
  <section class="bg-slate-900/80 p-6 rounded-xl border border-slate-800 shadow-md">
    <h2 class="text-xl font-semibold text-sky-400 mb-4"> Redes y Router</h2>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <label class="text-sm text-slate-400 mb-1 block">CIDR externa</label>
        <input id="cidr_externa" value="10.0.2.0/24" class="input editable" />
      </div>

      <div>
        <label class="text-sm text-slate-400 mb-1 block">CIDR privada</label>
        <input id="cidr_privada" value="192.168.100.0/24" class="input editable" />
      </div>

      <div>
        <label class="text-sm text-slate-400 mb-1 block">DNS</label>
        <input id="dns_nameservers" value="8.8.8.8, 1.1.1.1" class="input editable" />
      </div>

      <div>
        <label class="text-sm text-slate-400 mb-1 block">Puertos extras</label>
        <input id="custom_ports" class="input editable" placeholder="8080;9000;1337" />
      </div>
    </div>
  </section>

  <!-- Imágenes -->
  <section class="bg-slate-900/80 p-6 rounded-xl border border-slate-800 shadow-md">
    <h2 class="text-xl font-semibold text-sky-400 mb-4"> Imágenes Base</h2>

    <label class="flex items-center space-x-2">
      <input type="radio" name="image_option" value="debian"> <span>Solo Debian</span>
    </label>
    <label class="flex items-center space-x-2">
      <input type="radio" name="image_option" value="ubuntu"> <span>Solo Ubuntu</span>
    </label>
    <label class="flex items-center space-x-2">
      <input type="radio" name="image_option" value="ambas" checked> <span>Ambas</span>
    </label>
  </section>

  <!-- Flavors -->
  <section class="bg-slate-900/80 p-6 rounded-xl border border-slate-800 shadow-md">
    <h2 class="text-xl font-semibold text-sky-400 mb-4"> Sabores</h2>

    <table class="w-full text-sm border border-slate-800">
      <tbody>
        <tr><td>tiny</td><td><input value="1" class="input-table editable"></td><td><input value="512" class="input-table editable"></td><td><input value="5" class="input-table editable"></td></tr>
        <tr><td>small</td><td><input value="1" class="input-table editable"></td><td><input value="1024" class="input-table editable"></td><td><input value="10" class="input-table editable"></td></tr>
        <tr><td>medium</td><td><input value="2" class="input-table editable"></td><td><input value="2048" class="input-table editable"></td><td><input value="20" class="input-table editable"></td></tr>
        <tr><td>large</td><td><input value="4" class="input-table editable"></td><td><input value="4096" class="input-table editable"></td><td><input value="40" class="input-table editable"></td></tr>
      </tbody>
    </table>
  </section>

  <!-- Terminal -->
  <section class="bg-slate-900/80 p-6 rounded-xl border border-slate-800 shadow-md mb-20">
    <h2 class="text-xl font-semibold text-emerald-400 mb-4"> Terminal</h2>

    <div id="terminal" class="bg-black rounded-xl p-4">
      <h2 class="text-lg font-bold mb-3 text-gray-200 flex items-center justify-between">
        <span>Salida</span>
        <span class="text-xs text-slate-400">Simulación estilo CLI</span>
      </h2>

      <div id="terminal-output"
           class="bg-gray-900 rounded-lg p-3 h-[300px] overflow-y-auto font-mono text-xs text-white shadow-inner space-y-1"></div>
    </div>

    <div class="flex justify-end mt-3 space-x-2">
      <button id="clear-terminal"
              class="px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white text-sm rounded-lg shadow">
         Limpiar Terminal
      </button>
    </div>
  </section>

</main>

<!-- OVERLAY DE BLOQUEO -->
<div id="overlay" class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50">
  <div class="text-white text-xl font-semibold animate-pulse flex flex-col items-center space-y-2">
    <span> Procesando...</span>
    <span class="text-sm text-slate-300">Por favor, espera.</span>
  </div>
</div>

<!-- TOAST -->
<div id="toast"
     class="fixed bottom-6 right-6 bg-slate-800 text-white px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none transition-opacity duration-300 z-50 text-sm">
</div>

<!-- MODAL DE CONFIRMACIÓN -->
<div id="confirm-modal" class="hidden fixed inset-0 bg-black/60 flex items-center justify-center z-50">
  <div class="bg-slate-900 border border-slate-700 rounded-xl p-6 w-full max-w-md shadow-xl">
    <h3 id="confirm-title" class="text-lg font-semibold text-sky-400 mb-2">
      Confirmar acción
    </h3>
    <p id="confirm-message" class="text-sm text-slate-300 mb-4">
      ¿Estás seguro?
    </p>
    <div class="flex justify-end space-x-3">
      <button id="confirm-cancel"
              class="px-4 py-2 rounded-lg text-sm bg-slate-700 hover:bg-slate-600 text-white">
        Cancelar
      </button>
      <button id="confirm-accept"
              class="px-4 py-2 rounded-lg text-sm bg-red-600 hover:bg-red-500 text-white">
        Sí, continuar
      </button>
    </div>
  </div>
</div>

<!-- STYLES -->

<!-- SCRIPT FINAL OPTIMIZADO -->
 <script src="initial.js"></script> 
</body>
</html>
